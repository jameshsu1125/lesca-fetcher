"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var d=(t=>(t.URL_ENCODED="application/x-www-form-urlencoded; charset=UTF-8",t.JSON="application/json;charset=utf-8",t))(d||{}),l=(t=>(t[t.string=0]="string",t[t.JSON=1]="JSON",t))(l||{});const m={hostUrl:"https://jsonplaceholder.typicode.com/todos/1",contentType:d.JSON,formatType:l.JSON};let u,c,f;const p=t=>{const a={...m,...t},{hostUrl:s,contentType:o,formatType:e}=a;u=s.slice(-1)==="/"?s.slice(0,-1):s,f=e,c={"Content-Type":o}},O=t=>{c.Authorization=`Bearer ${t}`},S=t=>{c={...c,...t}},i=(t="/api")=>t.slice(0,1)==="/"?`${u}${t}`:`${u}/${t}`,N=(t="/api",a)=>{const s="POST";let o=JSON.stringify(a);return c["Content-Type"]===d.URL_ENCODED&&(o=Object.entries(a).map(e=>`${e[0]}=${e[1]}`).join("&")),f===l.JSON?new Promise((e,n)=>{fetch(i(t),{method:s,body:o,headers:c}).then(r=>{r.json().then(h=>e(h)).catch(h=>n(h))}).catch(r=>n(r))}):new Promise((e,n)=>{fetch(i(t),{method:s,body:o,headers:c}).then(r=>{r.text().then(h=>e(h)).catch(h=>n(h))}).catch(r=>n(r))})},g=(t="/api")=>f===l.JSON?new Promise((s,o)=>{fetch(i(t),{method:"GET",headers:c}).then(e=>{e.json().then(n=>s(n)).catch(n=>o(n))}).catch(e=>o(e))}):new Promise((s,o)=>{fetch(i(t),{method:"GET",headers:c}).then(e=>{e.text().then(n=>s(n)).catch(n=>o(n))}).catch(e=>o(e))}),J={install:p,post:N,get:g,setJWT:O,setHeader:S};exports.default=J;exports.mergePath=i;
