"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var d=(t=>(t.URL_ENCODED="application/x-www-form-urlencoded; charset=UTF-8",t.JSON="application/json;charset=utf-8",t))(d||{}),l=(t=>(t[t.string=0]="string",t[t.JSON=1]="JSON",t))(l||{});const m={hostUrl:"https://jsonplaceholder.typicode.com/todos/1",contentType:d.JSON,formatType:l.JSON};let u,c,f;const O=t=>{const r={...m,...t},{hostUrl:o,contentType:s,formatType:e}=r;u=o.slice(-1)==="/"?o.slice(0,-1):o,f=e,c=new Headers({"Content-Type":s})},p=t=>{c.set("Authorization",`Bearer ${t}`)},S=t=>{Object.entries(t).forEach(([r,o])=>{c.set(r,o)})},i=(t="/api")=>t.slice(0,1)==="/"?`${u}${t}`:`${u}/${t}`,g=(t="/api",r)=>{const o="POST";let s=JSON.stringify(r);return c.get("Content-Type")===d.URL_ENCODED&&(s=Object.entries(r).map(e=>`${e[0]}=${e[1]}`).join("&")),f===l.JSON?new Promise((e,n)=>{fetch(i(t),{method:o,body:s,headers:c}).then(h=>{h.json().then(a=>e(a)).catch(a=>n(a))}).catch(h=>n(h))}):new Promise((e,n)=>{fetch(i(t),{method:o,body:s,headers:c}).then(h=>{h.text().then(a=>e(a)).catch(a=>n(a))}).catch(h=>n(h))})},N=(t="/api")=>f===l.JSON?new Promise((o,s)=>{fetch(i(t),{method:"GET",headers:c}).then(e=>{e.json().then(n=>o(n)).catch(n=>s(n))}).catch(e=>s(e))}):new Promise((o,s)=>{fetch(i(t),{method:"GET",headers:c}).then(e=>{e.text().then(n=>o(n)).catch(n=>s(n))}).catch(e=>s(e))}),J={install:O,post:g,get:N,setJWT:p,setHeader:S};exports.default=J;exports.mergePath=i;
